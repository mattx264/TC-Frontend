<section>
    <table mat-table [dataSource]="projectDataSource">
        <!-- <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef> Select </th>
            <td mat-cell *matCellDef="let element">
                <button mat-flat-button color="primary">Select</button>
            </td>
        </ng-container> -->
        
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Project Name </th>
            <td mat-cell *matCellDef="let element"> {{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="projectDomain">
            <th mat-header-cell *matHeaderCellDef> Domains </th>
            <td mat-cell *matCellDef="let element">
                <div *ngFor="let domain of element.projectDomain">
                    {{ domain.domain }}
                    <div *ngIf="element.tests.length > 0">
                        <strong>Tests:</strong>
                    </div>
                    <div *ngFor="let test of element.tests" class="test-element">
                        <span (click)="runTest(element.id,test.id)">{{ test.name }}</span>
                    </div>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef> Select </th>
            <td mat-cell *matCellDef="let element">
                <button mat-flat-button color="primary">Select</button>
            </td>
        </ng-container>

        <ng-container matColumnDef="options">
            <th mat-header-cell *matHeaderCellDef> Options </th>
            <td mat-cell *matCellDef="let element">
                <div class="row" style="padding-left: 15px;">
                    <div class="button-option">
                        <mat-icon matTooltip="Edit Project" (click)="editProject(element.id)">
                            edit
                        </mat-icon>
                    </div>

                    <div class="button-option">
                        <mat-icon matTooltip="Create New Test" (click)="createNewTest(element.id)">
                            fiber_new
                        </mat-icon>
                    </div>

                    <!-- <div class="button-option">
                        <mat-icon matTooltip="View Saved Tests" (click)="viewSavedTests(element.id)">
                            view_list
                        </mat-icon>
                    </div> -->
                </div>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            (click)="selection.toggle(row)">
        </tr>
    
    </table>
</section>  
